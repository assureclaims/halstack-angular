<label class="inputLabel" htmlFor="{{ random }}">
  {{ label }}
  <span *ngIf="optional" class="inputOptionalLabel">(Optional)</span>
</label>
<span *ngIf="helperText" class="helperText">{{ helperText }}</span>
<div class="inputContainer">
  <span *ngIf="prefix" class="inputPrefix">{{ prefix }}</span>
  <input
    role="combobox"
    (focus)="handleOnFocus($event)"
    (focusout)="debouncedFocusOut($event)"
    (keydown)="handleOnKeyDown($event)"
    #inputRef
    type="text"
    class="inputText"
    [id]="random"
    [placeholder]="placeholder"
    [value]="value"
    (input)="handleOnChange($event)"
    [name]="name"
    (blur)="handleOnBlur($event)"
    [disabled]="disabled"
    autocomplete="off"
  />
  <span *ngIf="error" class="inputErrorIcon">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      height="24px"
      viewBox="0 0 24 24"
      width="24px"
      fill="currentColor"
    >
      <path
        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
      />
    </svg>
  </span>
  <button
    *ngIf="clearable"
    class="inputAction"
    (click)="handleDefaultClearAction($event)"
    [disabled]="disabled"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <path d="M0 0h24v24H0V0z" fill="none" />
      <path
        d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"
      />
    </svg>
  </button>
  <button
    *ngIf="hasAction()"
    class="inputAction"
    (click)="handleActionOnClick($event)"
    [disabled]="disabled"
  >
    <!-- //TODO: Adding a directive or pipe filtering content is a svg tag-->
    <ng-content select="dxc-new-input-text-action"></ng-content>
  </button>
  <span *ngIf="suffix" class="inputSuffix">{{ suffix }}</span>
  <ul
    #autoSuggestOptions
    [ngClass]="{ visible: autosuggestVisible }"
    role="listbox"
    class="options"
    [id]="autoSuggestId"
  >
    <li
      *ngFor="let item of autocompleteOptions | filterOptions: value; let i = index"
      role="option"
      [ngClass]="{ selected: selectedOption === i }"
      (click)="handleOnClickOption(item)"
      [innerHtml]="item | boldOptions: value"
    >
    </li>
  </ul>
</div>

<span *ngIf="error" class="inputErrorMessage">{{ error }}</span>
