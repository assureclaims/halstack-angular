<label class="label" htmlFor="{{ id }}">{{ label }}</label>
<span *ngIf="helperText" class="helperText">{{ helperText }}</span>
<div class="fileInputContainer">
  <input
    #fileInput
    type="file"
    [multiple]="multiple"
    (change)="onFileInput($event)"
    style="display: none"
  />
  <dxc-button
    *ngIf="mode === 'file'"
    label="Select files"
    mode="secondary"
    [disabled]="disabled"
    (onClick)="fileInput.click()"
    [tabIndexValue]="tabIndexValue"
  ></dxc-button>
  <div
    *ngIf="mode !== 'file'"
    class="dragDropArea"
    [ngClass]="{
      hovering: hoveringWithFile === true
    }"
    (drop)="drop($event)"
    (dragleave)="dragLeave($event)"
    (dragover)="dragOver($event)"
  >
    <dxc-button
      label="Select"
      mode="secondary"
      [disabled]="disabled"
      [tabIndexValue]="tabIndexValue"
      (onClick)="fileInput.click()"
    ></dxc-button>
    <span *ngIf="mode !== 'file'" class="dropLabel">or drop files</span>
  </div>
  <div *ngIf="files?.length > 0 && !disabled && multiple" class="fileContainer">
    <dxc-file
      *ngFor="let file of files"
      [file]="file"
      [showPreview]="showPreview"
      [multiple]="multiple"
      [mode]="mode"
    ></dxc-file>
  </div>
  <div
    *ngIf="files?.length > 0 && !disabled && !multiple"
    class="fileContainer"
  >
    <dxc-file
      [file]="files[0]"
      [showPreview]="showPreview"
      [multiple]="multiple"
      [mode]="mode"
    ></dxc-file>
  </div>
</div>
<span
  *ngIf="
    !multiple &&
    mode === 'file' &&
    files[0]?.error !== null &&
    files[0]?.error !== undefined &&
    !disabled
  "
  class="errorMessage"
  >Error message</span
>
